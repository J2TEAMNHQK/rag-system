# ğŸ¤– DEMO RAG System - Há»‡ thá»‘ng TÃ¬m kiáº¿m TÃ i liá»‡u ThÃ´ng minh

<div align="center">

![Python](https://img.shields.io/badge/python-v3.8+-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![Gradio](https://img.shields.io/badge/gradio-5.42.0-orange.svg)
![LangChain](https://img.shields.io/badge/langchain-0.3.27-purple.svg)

### ğŸŒŸ Há»‡ thá»‘ng RAG (Retrieval-Augmented Generation) 

*TÃ¬m kiáº¿m vÃ  tráº£ lá»i cÃ¢u há»i tá»« tÃ i liá»‡u cá»§a báº¡n má»™t cÃ¡ch thÃ´ng minh vÃ  nhanh chÃ³ng!*

[ğŸš€ Báº¯t Ä‘áº§u](#-cÃ i-Ä‘áº·t-nhanh) â€¢ [ğŸ“– HÆ°á»›ng dáº«n](#-hÆ°á»›ng-dáº«n-chi-tiáº¿t) â€¢ [ğŸ¯ TÃ­nh nÄƒng](#-tÃ­nh-nÄƒng) â€¢ [â“ Há»— trá»£](#-há»—-trá»£)

</div>

---

## ğŸ“– Vá» Dá»± Ã¡n

**RAG System** lÃ  má»™t há»‡ thá»‘ng tÃ¬m kiáº¿m tÃ i liá»‡u thÃ´ng minh Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng Python, sá»­ dá»¥ng cÃ¡c cÃ´ng nghá»‡ AI tiÃªn tiáº¿n nhÆ°:

- ğŸ§  **LangChain** - Framework Ä‘á»ƒ xÃ¢y dá»±ng á»©ng dá»¥ng AI
- ğŸ” **Vector Search** - TÃ¬m kiáº¿m ngá»¯ nghÄ©a vá»›i embeddings
- ğŸ“Š **BM25** - Thuáº­t toÃ¡n tÃ¬m kiáº¿m tá»« khÃ³a truyá»n thá»‘ng
- ğŸ¨ **Gradio** - Giao diá»‡n web Ä‘áº¹p máº¯t vÃ  dá»… sá»­ dá»¥ng
- ğŸ¤– **Sentence Transformers** - MÃ´ hÃ¬nh nhÃºng vÄƒn báº£n

Há»‡ thá»‘ng giÃºp báº¡n:
- âœ¨ TÃ¬m kiáº¿m thÃ´ng tin trong tÃ i liá»‡u má»™t cÃ¡ch thÃ´ng minh
- ğŸ’¬ Äáº·t cÃ¢u há»i báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn
- ğŸ“ Nháº­n cÃ¢u tráº£ lá»i chi tiáº¿t vá»›i nguá»“n tham kháº£o
- ğŸš€ Sá»­ dá»¥ng Ä‘Æ¡n giáº£n qua giao diá»‡n web

---

## ğŸ¯ TÃ­nh nÄƒng

### ğŸŒŸ TÃ­nh nÄƒng chÃ­nh
- **ğŸ” TÃ¬m kiáº¿m Hybrid**: Káº¿t há»£p Vector Search vÃ  BM25 cho káº¿t quáº£ tá»‘i Æ°u
- **ğŸ§  AI Reranking**: Sáº¯p xáº¿p láº¡i káº¿t quáº£ theo Ä‘á»™ liÃªn quan
- **ğŸ’¬ Giao diá»‡n Chat**: TrÃ² chuyá»‡n tá»± nhiÃªn vá»›i tÃ i liá»‡u
- **ğŸ“± Responsive Design**: Giao diá»‡n Ä‘áº¹p trÃªn má»i thiáº¿t bá»‹
- **âš¡ Xá»­ lÃ½ nhanh**: Tá»‘i Æ°u hÃ³a hiá»‡u suáº¥t vÃ  tá»‘c Ä‘á»™

### ğŸ¨ Giao diá»‡n
- **ğŸŒˆ Thiáº¿t káº¿ hiá»‡n Ä‘áº¡i**: Giao diá»‡n thÃ¢n thiá»‡n vÃ  dá»… sá»­ dá»¥ng
- **ğŸ“‹ Lá»‹ch sá»­ chat**: LÆ°u trá»¯ cuá»™c trÃ² chuyá»‡n
- **ğŸ”„ XÃ³a nhanh**: XÃ³a lá»‹ch sá»­ chat dá»… dÃ ng
- **ğŸ“¤ Copy káº¿t quáº£**: Sao chÃ©p cÃ¢u tráº£ lá»i nhanh chÃ³ng

---

## ğŸš€ CÃ i Ä‘áº·t Nhanh

### ğŸ“‹ YÃªu cáº§u há»‡ thá»‘ng
- ğŸ **Python 3.8+**
- ğŸ’¾ **8GB+ RAM** (khuyáº¿n nghá»‹)
- ğŸ”Œ **Káº¿t ná»‘i Internet** (Ä‘á»ƒ táº£i mÃ´ hÃ¬nh láº§n Ä‘áº§u)
- ğŸ’¿ **10GB+ dung lÆ°á»£ng trá»‘ng**

### âš¡ CÃ i Ä‘áº·t trong 3 bÆ°á»›c

```bash
# 1ï¸âƒ£ Clone repository
git clone https://github.com/J2TEAMNHQK/rag-system.git
cd rag-system

# 2ï¸âƒ£ CÃ i Ä‘áº·t dependencies
pip install -r requirements.txt

# 3ï¸âƒ£ Cháº¡y há»‡ thá»‘ng
python test_simple.py
```

ğŸ‰ **Xong!** Má»Ÿ trÃ¬nh duyá»‡t vÃ  truy cáº­p: http://127.0.0.1:7860

---

## ğŸ“– HÆ°á»›ng dáº«n Chi tiáº¿t

### ğŸ”§ BÆ°á»›c 1: Chuáº©n bá»‹ mÃ´i trÆ°á»ng

#### Option A: Sá»­ dá»¥ng Virtual Environment (Khuyáº¿n nghá»‹)
```bash
# Táº¡o virtual environment
python -m venv rag_env

# KÃ­ch hoáº¡t (Windows)
rag_env\Scripts\activate

# KÃ­ch hoáº¡t (Mac/Linux)
source rag_env/bin/activate
```

#### Option B: CÃ i Ä‘áº·t global
```bash
# CÃ i Ä‘áº·t trá»±c tiáº¿p (khÃ´ng khuyáº¿n nghá»‹)
pip install -r requirements.txt
```

### ğŸ“ BÆ°á»›c 2: Chuáº©n bá»‹ tÃ i liá»‡u

1. **Táº¡o thÆ° má»¥c tÃ i liá»‡u**
   ```bash
   mkdir documents
   ```

2. **ThÃªm file TXT**
   - Sao chÃ©p cÃ¡c file `.txt` vÃ o thÆ° má»¥c `documents/`
   - Há»— trá»£ encoding UTF-8
   - KhÃ´ng giá»›i háº¡n sá»‘ lÆ°á»£ng file

3. **VÃ­ dá»¥ cáº¥u trÃºc thÆ° má»¥c**
   ```
   rag-system/
   â”œâ”€â”€ documents/
   â”‚   â”œâ”€â”€ tailieu1.txt
   â”‚   â”œâ”€â”€ tailieu2.txt
   â”‚   â””â”€â”€ ...
   â”œâ”€â”€ main.py
   â””â”€â”€ requirements.txt
   ```

### ğŸ® BÆ°á»›c 3: Cháº¡y há»‡ thá»‘ng

#### ğŸŒŸ Option A: PhiÃªn báº£n Ä‘Æ¡n giáº£n (Khuyáº¿n nghá»‹ cho láº§n Ä‘áº§u)
```bash
python test_simple.py
```
- âš¡ Khá»Ÿi Ä‘á»™ng nhanh (< 30 giÃ¢y)
- ğŸ” TÃ¬m kiáº¿m tá»« khÃ³a cÆ¡ báº£n
- ğŸ’« Giao diá»‡n Ä‘áº¹p máº¯t

#### ğŸ§  Option B: PhiÃªn báº£n AI Ä‘áº§y Ä‘á»§
```bash
python main_working.py
```
- ğŸ¤– Sá»­ dá»¥ng AI models
- ğŸ”¬ TÃ¬m kiáº¿m ngá»¯ nghÄ©a
- â³ Khá»Ÿi Ä‘á»™ng lÃ¢u hÆ¡n (5-15 phÃºt láº§n Ä‘áº§u)

#### ğŸš€ Option C: PhiÃªn báº£n cao cáº¥p
```bash
python main.py
```
- ğŸ¯ Äáº§y Ä‘á»§ tÃ­nh nÄƒng
- ğŸ”„ Query rewriting
- ğŸ† Hiá»‡u suáº¥t tá»‘i Æ°u

### ğŸŒ BÆ°á»›c 4: Sá»­ dá»¥ng giao diá»‡n web

1. **Má»Ÿ trÃ¬nh duyá»‡t**
   - Truy cáº­p: http://127.0.0.1:7860
   - Hoáº·c: http://localhost:7860

2. **Giao diá»‡n chÃ­nh**
   ```
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚            RAG System               â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                                     â”‚
   â”‚  [Lá»‹ch sá»­ chat hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y]      â”‚
   â”‚                                     â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ [Nháº­p cÃ¢u há»i cá»§a báº¡n...]    [Gá»­i]  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   ```

3. **CÃ¡ch sá»­ dá»¥ng**
   - ğŸ’¬ Nháº­p cÃ¢u há»i vÃ o Ã´ text
   - ğŸ” Nháº¥n "Send" hoáº·c Enter
   - â³ Äá»£i há»‡ thá»‘ng xá»­ lÃ½
   - ğŸ“– Xem káº¿t quáº£ vá»›i nguá»“n tham kháº£o

---

## ğŸ’¡ VÃ­ dá»¥ Sá»­ dá»¥ng

### ğŸ” CÃ¡c loáº¡i cÃ¢u há»i cÃ³ thá»ƒ Ä‘áº·t:

#### ğŸ“ TÃ¬m kiáº¿m thÃ´ng tin cá»¥ thá»ƒ
```
"ThÃ´ng tin vá» quy trÃ¬nh Ä‘Äƒng kÃ½"
"Äiá»u kiá»‡n tham gia chÆ°Æ¡ng trÃ¬nh"
"Danh sÃ¡ch yÃªu cáº§u ká»¹ thuáº­t"
```

#### â“ CÃ¢u há»i má»Ÿ
```
"LÃ m tháº¿ nÃ o Ä‘á»ƒ..."
"Táº¡i sao cáº§n pháº£i..."
"Khi nÃ o thÃ¬..."
```

#### ğŸ¯ TÃ¬m kiáº¿m tá»« khÃ³a
```
"API documentation"
"pricing model"
"security requirements"
```

### ğŸ“Š Káº¿t quáº£ máº«u:
```
ğŸ¤– Há»‡ thá»‘ng: TÃ´i tÃ¬m tháº¥y thÃ´ng tin liÃªn quan Ä‘áº¿n cÃ¢u há»i cá»§a báº¡n:

ğŸ“„ Tá»« file "huongdan.txt":
"Quy trÃ¬nh Ä‘Äƒng kÃ½ bao gá»“m 3 bÆ°á»›c chÃ­nh: 
1. Äiá»n form thÃ´ng tin
2. XÃ¡c thá»±c email  
3. HoÃ n táº¥t thanh toÃ¡n"

ğŸ“š Nguá»“n tham kháº£o:
1. huongdan.txt: Quy trÃ¬nh Ä‘Äƒng kÃ½ bao gá»“m 3 bÆ°á»›c...
2. quydinh.txt: Äiá»u kiá»‡n tham gia chÆ°Æ¡ng trÃ¬nh...
```

---

## ğŸ› ï¸ Troubleshooting

### âŒ Lá»—i thÆ°á»ng gáº·p vÃ  cÃ¡ch kháº¯c phá»¥c

#### 1. ğŸ”Œ "Port 7860 is already in use"
```bash
# Kiá»ƒm tra port Ä‘ang sá»­ dá»¥ng
netstat -ano | findstr 7860

# Thay Ä‘á»•i port trong code
# Sá»­a: server_port=7860 â†’ server_port=8080
```

#### 2. ğŸ“¦ "ModuleNotFoundError"
```bash
# Kiá»ƒm tra virtual environment
pip list

# CÃ i Ä‘áº·t láº¡i dependencies
pip install -r requirements.txt --force-reinstall
```

#### 3. ğŸŒ "Há»‡ thá»‘ng khá»Ÿi Ä‘á»™ng cháº­m"
```bash
# Sá»­ dá»¥ng phiÃªn báº£n Ä‘Æ¡n giáº£n
python test_simple.py

# Hoáº·c tÄƒng timeout
# Äá»£i 5-15 phÃºt cho láº§n Ä‘áº§u táº£i models
```

#### 4. ğŸ“ "No documents found"
```bash
# Kiá»ƒm tra thÆ° má»¥c documents
ls documents/

# ThÃªm file .txt vÃ o thÆ° má»¥c
copy *.txt documents/
```

#### 5. ğŸŒ "Cannot access web interface"
```bash
# Kiá»ƒm tra firewall
# Cho phÃ©p Python qua Windows Firewall

# Thá»­ cÃ¡c URL khÃ¡c
http://localhost:7860
http://0.0.0.0:7860
```

### ğŸ”§ Debug mode
```bash
# Cháº¡y vá»›i debug Ä‘á»ƒ xem log chi tiáº¿t
python main.py --debug

# Hoáº·c kiá»ƒm tra console output
```

---

## ğŸ“ Cáº¥u trÃºc Dá»± Ã¡n

```
rag-system/
â”œâ”€â”€ ğŸ“„ README.md                 # TÃ i liá»‡u hÆ°á»›ng dáº«n
â”œâ”€â”€ ğŸ“„ requirements.txt          # Dependencies
â”œâ”€â”€ ğŸ“„ setup.py                  # Package setup
â”œâ”€â”€ ğŸ“„ MANUAL_SETUP.md          # HÆ°á»›ng dáº«n thá»§ cÃ´ng
â”œâ”€â”€ ğŸ“ documents/               # ThÆ° má»¥c tÃ i liá»‡u
â”‚   â”œâ”€â”€ ğŸ“„ 1.txt
â”‚   â””â”€â”€ ğŸ“„ 2.txt
â”œâ”€â”€ ğŸ main.py                  # PhiÃªn báº£n Ä‘áº§y Ä‘á»§
â”œâ”€â”€ ğŸ main_simplified.py       # PhiÃªn báº£n Ä‘Æ¡n giáº£n
â”œâ”€â”€ ğŸ main_working.py          # PhiÃªn báº£n AI
â”œâ”€â”€ ğŸ test_simple.py           # PhiÃªn báº£n test
â”œâ”€â”€ ğŸ“ rag_env/                 # Virtual environment
â””â”€â”€ ğŸ“ chroma_db/              # Vector database (tá»± táº¡o)
```

### ğŸ“‹ MÃ´ táº£ files chÃ­nh:

| File               | MÃ´ táº£                               | Khuyáº¿n nghá»‹         |
|--------------------|--------------------------------------|---------------------|
| `test_simple.py`   | ğŸŒŸ PhiÃªn báº£n cÆ¡ báº£n, khá»Ÿi Ä‘á»™ng nhanh | NgÆ°á»i má»›i báº¯t Ä‘áº§u   |
| `main_working.py`  | ğŸ§  PhiÃªn báº£n AI vá»›i embeddings       | Sá»­ dá»¥ng nÃ¢ng cao    |
| `main.py`          | ğŸš€ PhiÃªn báº£n Ä‘áº§y Ä‘á»§ tÃ­nh nÄƒng        | Production          |
| `main_simplified.py` | âš¡ PhiÃªn báº£n tá»‘i Æ°u                 | Development         |


---

## âš™ï¸ Cáº¥u hÃ¬nh NÃ¢ng cao

### ğŸ›ï¸ TÃ¹y chá»‰nh há»‡ thá»‘ng

#### ğŸ“ Chá»‰nh sá»­a cáº¥u hÃ¬nh trong code:
```python
class SystemConfig:
    EMBEDDING_MODEL = "all-MiniLM-L6-v2"  # MÃ´ hÃ¬nh embedding
    CHUNK_SIZE = 500                      # KÃ­ch thÆ°á»›c chunk
    CHUNK_OVERLAP = 100                   # Äá»™ chá»“ng láº¥p
    TOP_K_RETRIEVAL = 3                   # Sá»‘ káº¿t quáº£ tráº£ vá»
    DEVICE = "cpu"                        # CPU hoáº·c CUDA
    DOCUMENTS_DIR = "./documents"         # ThÆ° má»¥c tÃ i liá»‡u
```

#### ğŸ”§ CÃ¡c tÃ¹y chá»n khÃ¡c:
- **Thay Ä‘á»•i port**: Sá»­a `server_port=7860`
- **Thay Ä‘á»•i theme**: Sá»­a `theme=gr.themes.Soft()`
- **TÄƒng timeout**: Sá»­a `timeout=300000`

### ğŸš€ Tá»‘i Æ°u hiá»‡u suáº¥t

#### ğŸ’» Cho mÃ¡y tÃ­nh yáº¿u:
```python
# Sá»­ dá»¥ng model nháº¹ hÆ¡n
EMBEDDING_MODEL = "all-MiniLM-L6-v2"
CHUNK_SIZE = 300
TOP_K_RETRIEVAL = 2
```

#### ğŸ–¥ï¸ Cho mÃ¡y tÃ­nh máº¡nh:
```python
# Sá»­ dá»¥ng model tá»‘t hÆ¡n
EMBEDDING_MODEL = "intfloat/multilingual-e5-large"
CHUNK_SIZE = 1000
TOP_K_RETRIEVAL = 5
```

---

## ğŸ¤ ÄÃ³ng gÃ³p

### ğŸ’¡ CÃ¡ch Ä‘Ã³ng gÃ³p:
1. ğŸ´ Fork repository
2. ğŸŒ¿ Táº¡o branch má»›i: `git checkout -b feature/amazing-feature`
3. ğŸ’¾ Commit changes: `git commit -m 'Add amazing feature'`
4. ğŸ“¤ Push branch: `git push origin feature/amazing-feature`
5. ğŸ”„ Táº¡o Pull Request

### ğŸ› BÃ¡o lá»—i:
- ğŸ¯ Má»Ÿ [GitHub Issues](https://github.com/J2TEAMNHQK/rag-system/issues)
- ğŸ“ MÃ´ táº£ chi tiáº¿t lá»—i
- ğŸ–¼ï¸ Attach screenshots náº¿u cÃ³

### ğŸ’¬ Tháº£o luáº­n:
- ğŸ’­ [GitHub Discussions](https://github.com/J2TEAMNHQK/rag-system/discussions)
- ğŸ“§ Email: j2teamnhqk@gmail.com

---

## ğŸ“œ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¢n phá»‘i dÆ°á»›i license **MIT**. Xem file [LICENSE](LICENSE) Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.

```
MIT License - Báº¡n cÃ³ thá»ƒ:
âœ… Sá»­ dá»¥ng thÆ°Æ¡ng máº¡i
âœ… Sá»­a Ä‘á»•i code  
âœ… PhÃ¢n phá»‘i
âœ… Sá»­ dá»¥ng riÃªng tÆ°
```

---

## ğŸ‘¨â€ğŸ’» TÃ¡c giáº£

<div align="center">

### ğŸŒŸ **J2TEAM NHQK**

*Äá»™i ngÅ© phÃ¡t triá»ƒn Ä‘am mÃª cÃ´ng nghá»‡ AI vÃ  Machine Learning*

[![GitHub](https://img.shields.io/badge/GitHub-J2TEAMNHQK-181717?style=for-the-badge&logo=github)](https://github.com/J2TEAMNHQK)
[![Website](https://img.shields.io/badge/Website-j2team.dev-blue?style=for-the-badge&logo=google-chrome)].

**Cáº£m Æ¡n báº¡n Ä‘Ã£ sá»­ dá»¥ng RAG System! â¤ï¸**

*Náº¿u dá»± Ã¡n há»¯u Ã­ch, Ä‘á»«ng quÃªn Ä‘á»ƒ láº¡i â­ trÃªn GitHub nhÃ©!*

</div>

---

## ğŸ”– Changelog

### ğŸ“… Version 1.0.0 (2025-08-17)
- ğŸ‰ Ra máº¯t phiÃªn báº£n Ä‘áº§u tiÃªn
- âœ¨ TÃ­nh nÄƒng tÃ¬m kiáº¿m cÆ¡ báº£n
- ğŸ¨ Giao diá»‡n Gradio Ä‘áº¹p máº¯t
- ğŸ“š Há»— trá»£ multiple documents

### ğŸš€ TÃ­nh nÄƒng sáº¯p tá»›i:
- ğŸ”Š Há»— trá»£ giá»ng nÃ³i
- ğŸ“Š Dashboard analytics
- ğŸŒ Multilingual support
- ğŸ“± Mobile app
- â˜ï¸ Cloud deployment

---

<div align="center">

### ğŸ¯ **HÃ£y Ä‘á»ƒ RAG System giÃºp báº¡n tÃ¬m kiáº¿m thÃ´ng minh hÆ¡n!**

*Made with â¤ï¸ by J2TEAM NHQK*

</div>
